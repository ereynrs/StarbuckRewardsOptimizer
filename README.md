# Optimizing app offers with Starbucks

## Overview
This repository depicts the approach applied and the results obtained in the Data Science Udacity Nanodegree Capstone Project. A full project report is available [here](https://ereynrs.github.io/2022/09/05/starbucks-project-report.html).

## Problem background and project statement
The data set contains simulated data that mimics customer behavior on the Starbucks rewards mobile app.
The program used to create the data simulates how people make purchasing decisions and how those decisions are influenced by promotional offers.

An offer can be merely an advertisement or an actual offer such as a discount or bogo (buy one get one).
The simulated dataset includes transactional data showing user purchases made on the app including the timestamp of purchase and the amount of money spent on a purchase.
This transactional data also has a record for each offer that a user receives as well as a record for when a user actually views the offer.

There are also records for when a user completes an offer.
Not all users receive the same offer, and every offer has a validity period before the offer expires.

Each person in the simulation has some hidden traits that influence their purchasing patterns and are associated with their observable traits. People produce various events, including receiving offers, opening offers, and making purchases. As a simplification, there are no explicit products to track. Only the amounts of each transaction or offer are recorded.

Some customers might make a purchase without having received an offer or seen an offer. A customer can receive an offer, never actually view it but still complete it. Then, there is no benefit for the business in such an offer. On the other hand, some customers being influenced by the offer will complete it given that they viewed it.

Then, the objective is to distinguish these two profiles in order to decide whom a given offer should be send to, maximizing the benefits generated by the offers being sent.

## Classification models
Several classification models are assessed to distinguish the profiles abovementioned:
* Logistic Regression,
* Decision Tree,
* Random Forest,
* Gradient Boosting,
* Extreme Gradient Boosting (XGB),
* Multi-Layer Perceptron (MLP), and
* a Dense Sequential 4-Hidden Layers Model.

## Folder structure and files
* *README.md*. This file.
* *Starbucks_Capstone_notebook.ipynb*. The Jupyter notebook depicting the step involved on the definition of a model to distinguish the two profiles before depicted, from data exploration to model definition and evaluation of classification results.
* *data* folder. It contains the raw and processed dataset.
    * 'portfolio.json'. Raw data, detailing information about the offering portfolio.
    * 'profile.json'. Raw data, depicting demographic information of the customers.
    * 'transcript.json'. Raw data, detailing information about the operations recorded by the application.
    * 'expiration_times.csv'. Pre-processed data, depict the expiration time of each offer received by a specific customer as detailed in the 'transcript.json' file.
    * 'dataset.csv'. Single dataset detailing the features of customers, offers, and transcripts. It is used to train the the assessed classification models.
    
## How to reproduce the analysis
The steps and Python code required to reproduce the analysis performed are fully depicted in the Jupyter notebook before mentioned. Running of the notebook only requires the installation of the libraries listed in the table below.

| Library | Version |
|:---|:---:|
| numpy | 1.22.3 |
| pandas | 1.4.1 |
| matplotlib | 3.5.1 |
| seaborn | 0.11.2 |
| sklearn | 1.1.1 |
| xgboost | 1.6.2 |
| keras | 2.9.0 |

## Summary of results
The following three bullet point depicts the main results achieved by all of the experiments performed in this p≈ïoject:

no classification model shows an accuracy on the testing set above 70%,
no classification model shows a F1 score on the unsuccessful offer class above 76%, and,
no classification model shows a F1 score for the successful offer class above 64%.

## Conclusion
In conclusion, the objective of the project - i.e.: to distinguish customers willing to be influenced by an offer versus those ones do not, in order to maximize the benefits generated by the offers being sent - has been partially achieved in terms of the metrics analyzed.

However, it is important to bear in mind the synthetic nature of the analyzed dataset and the insights presented in the section about dataset analysis. To recap, the profile demographic and portfolio features data do not provides clear insights on how to distinguish entries belonging to the unsuccessful/successful offer classes. In consequence, it is not surprising the difficulty to devise out a classification model since the classes are not easily separable by the features comprised in the dataset.

## Improvement
By considering this project as a baseline for future project, it could be evaluated other options in order to address the business goal in a higher degree. For instance, it could be defined the same goal but including the amount of money spend on the recorded transactions. It could be also helpful to redefine how the benefits maximization is defined.

Instead of comparing unsuccessful versus successful offers, a regression model could be potentially used to predict the amount of money is spent after offer reception and viewing. In this case, not only the bogo and discount offers should be considered but also the informative ones.
